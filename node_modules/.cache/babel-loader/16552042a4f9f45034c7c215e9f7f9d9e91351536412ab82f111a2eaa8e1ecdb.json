{"ast":null,"code":"import \"core-js/modules/esnext.iterator.map.js\";\nimport BranchReservationsLayout from '@/View/layouts/BranchReservationsLayout.vue';\nimport BranchReservationsRepo from '@/infrastructure/foodicsAPI/BranchReservationsRepo';\nimport GetBranchesRequest from '@/infrastructure/foodicsAPI/dto/requests/GetBranchesRequest';\nimport AllowBranchReservationRequest from '@/infrastructure/foodicsAPI/dto/requests/AllowBranchReservationRequest';\nimport DisAllowBranchReservationRequest from '@/infrastructure/foodicsAPI/dto/requests/DisAllowBranchReservationRequest';\nimport { EditBranchSettingsRequest } from '@/infrastructure/foodicsAPI/dto/requests/EditBranchSettingsRequest';\nconst branchReservationsRepo = new BranchReservationsRepo();\nexport default {\n  name: 'BranchReservationsScreen',\n  components: {\n    BranchReservationsLayout\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    async addReservations(branches) {\n      await Promise.all(branches.map(branch => {\n        const dto = new AllowBranchReservationRequest(branch.id);\n        return branchReservationsRepo.allowBranchReservation(dto);\n      }));\n    },\n    async removeReservations(branches) {\n      await Promise.all(branches.map(branch => {\n        const dto = new DisAllowBranchReservationRequest(branch.id);\n        return branchReservationsRepo.disAllowBranchReservation(dto);\n      }));\n    },\n    async submitReservationSettings(updatedBranch) {\n      console.log(\"updatedBranch UUUUUUU\", updatedBranch);\n      const dto = new EditBranchSettingsRequest(updatedBranch, updatedBranch.id);\n      await branchReservationsRepo.editBranchSettings(dto);\n    },\n    /**\n     * @param {boolean} isReservationEnabled - Whether to get reservations or non-reservations\n     * @param {number} targetPage - The page number to get starting from 0\n     * @returns {Promise<{list: BranchOverviewModel[], pagesCount: number}>}\n     */\n    async getBranches(isReservationEnabled, targetPage) {\n      const dto = new GetBranchesRequest(targetPage, isReservationEnabled);\n      const result = await branchReservationsRepo.getBranches(dto);\n      return {\n        list: result.branches,\n        pagesCount: result.pagesCount\n      };\n    }\n  }\n};","map":{"version":3,"names":["BranchReservationsLayout","BranchReservationsRepo","GetBranchesRequest","AllowBranchReservationRequest","DisAllowBranchReservationRequest","EditBranchSettingsRequest","branchReservationsRepo","name","components","data","methods","addReservations","branches","Promise","all","map","branch","dto","id","allowBranchReservation","removeReservations","disAllowBranchReservation","submitReservationSettings","updatedBranch","console","log","editBranchSettings","getBranches","isReservationEnabled","targetPage","result","list","pagesCount"],"sources":["src/View/screens/BranchReservationsScreen.vue"],"sourcesContent":["\n\n<template>\n  <BranchReservationsLayout \n    :getBranches=\"getBranches\"\n    :addReservations=\"addReservations\"\n    :removeReservations=\"removeReservations\"\n    :submitReservationSettings=\"submitReservationSettings\"\n  />\n</template>\n\n<script>\nimport BranchReservationsLayout from '@/View/layouts/BranchReservationsLayout.vue';\nimport BranchReservationsRepo from '@/infrastructure/foodicsAPI/BranchReservationsRepo';\nimport GetBranchesRequest from '@/infrastructure/foodicsAPI/dto/requests/GetBranchesRequest';\nimport AllowBranchReservationRequest from '@/infrastructure/foodicsAPI/dto/requests/AllowBranchReservationRequest';\nimport DisAllowBranchReservationRequest from '@/infrastructure/foodicsAPI/dto/requests/DisAllowBranchReservationRequest';\nimport { EditBranchSettingsRequest } from '@/infrastructure/foodicsAPI/dto/requests/EditBranchSettingsRequest';\nconst branchReservationsRepo = new BranchReservationsRepo();\n\nexport default {\n  name: 'BranchReservationsScreen',\n  components: {\n    BranchReservationsLayout\n  },\n  data() {\n    return {\n    }\n  },\n  methods: {\n    async addReservations(branches) { \n      await Promise.all(branches.map(branch => {\n        const dto = new AllowBranchReservationRequest(branch.id)\n        return branchReservationsRepo.allowBranchReservation(dto)\n      }))\n    },\n    async removeReservations(branches) { \n      await Promise.all(branches.map(branch => {\n        const dto = new DisAllowBranchReservationRequest(branch.id)\n        return branchReservationsRepo.disAllowBranchReservation(dto)\n      }))\n    },\n    async submitReservationSettings(updatedBranch) {\n      console.log(\"updatedBranch UUUUUUU\", updatedBranch);\n      const dto = new EditBranchSettingsRequest(updatedBranch, updatedBranch.id);\n      await branchReservationsRepo.editBranchSettings(dto);\n    },\n    /**\n     * @param {boolean} isReservationEnabled - Whether to get reservations or non-reservations\n     * @param {number} targetPage - The page number to get starting from 0\n     * @returns {Promise<{list: BranchOverviewModel[], pagesCount: number}>}\n     */ \n    async getBranches(isReservationEnabled, targetPage) { \n      const dto = new GetBranchesRequest(targetPage, isReservationEnabled);\n      const result = await branchReservationsRepo.getBranches(dto);\n      \n      return {list: result.branches, pagesCount: result.pagesCount}\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"],"mappings":";AAYA,OAAAA,wBAAA;AACA,OAAAC,sBAAA;AACA,OAAAC,kBAAA;AACA,OAAAC,6BAAA;AACA,OAAAC,gCAAA;AACA,SAAAC,yBAAA;AACA,MAAAC,sBAAA,OAAAL,sBAAA;AAEA;EACAM,IAAA;EACAC,UAAA;IACAR;EACA;EACAS,KAAA;IACA,QACA;EACA;EACAC,OAAA;IACA,MAAAC,gBAAAC,QAAA;MACA,MAAAC,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAAG,GAAA,CAAAC,MAAA;QACA,MAAAC,GAAA,OAAAd,6BAAA,CAAAa,MAAA,CAAAE,EAAA;QACA,OAAAZ,sBAAA,CAAAa,sBAAA,CAAAF,GAAA;MACA;IACA;IACA,MAAAG,mBAAAR,QAAA;MACA,MAAAC,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAAG,GAAA,CAAAC,MAAA;QACA,MAAAC,GAAA,OAAAb,gCAAA,CAAAY,MAAA,CAAAE,EAAA;QACA,OAAAZ,sBAAA,CAAAe,yBAAA,CAAAJ,GAAA;MACA;IACA;IACA,MAAAK,0BAAAC,aAAA;MACAC,OAAA,CAAAC,GAAA,0BAAAF,aAAA;MACA,MAAAN,GAAA,OAAAZ,yBAAA,CAAAkB,aAAA,EAAAA,aAAA,CAAAL,EAAA;MACA,MAAAZ,sBAAA,CAAAoB,kBAAA,CAAAT,GAAA;IACA;IACA;AACA;AACA;AACA;AACA;IACA,MAAAU,YAAAC,oBAAA,EAAAC,UAAA;MACA,MAAAZ,GAAA,OAAAf,kBAAA,CAAA2B,UAAA,EAAAD,oBAAA;MACA,MAAAE,MAAA,SAAAxB,sBAAA,CAAAqB,WAAA,CAAAV,GAAA;MAEA;QAAAc,IAAA,EAAAD,MAAA,CAAAlB,QAAA;QAAAoB,UAAA,EAAAF,MAAA,CAAAE;MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}