{"ast":null,"code":"import _defineProperty from \"/Users/mohammedalghamdi/Desktop/personal/career/Foodics/tech assess/foodics-test/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport GetBranchesResponse from '@/infrastructure/foodicsAPI/dto/responses/GetBranchesReponse';\n\n/**\n * @classdesc Represents a repository for branch reservations\n */\nexport default class BranchReservationsRepo {\n  constructor() {\n    /**\n     * @type {string}\n     */\n    _defineProperty(this, \"apiKey\", void 0);\n    this.apiKey = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiI4Zjc4NjY2NC0wMDg4LTRhMDMtYmFkMi0zOTQ5OGRjNTViYjMiLCJqdGkiOiJiMjgzOGY4NmMyMjQ3NGMzMmJlMTJjY2JiZGZkYzU5YjEzODUyNzkxNGQyMWVhNWU4OTVjYjkxODQ0ZWZiM2YwNzQ0NjJlYzU3NGIwZDUxNyIsImlhdCI6MTczNzk3NDIwMC4zMzU0MjYsIm5iZiI6MTczNzk3NDIwMC4zMzU0MjYsImV4cCI6MTg5NTc0MDYwMC4yODM5ODYsInN1YiI6IjllMTE1ZDRkLTQ4YzMtNGM0YS1iYTAzLWMxMTFkNWYwZjAyYSIsInNjb3BlcyI6W10sImJ1c2luZXNzIjoiOTdhNTcxNDYtZTBhZC00ZGQ5LWE1NGUtNDk3YTIyY2I2Yzc1IiwicmVmZXJlbmNlIjoiMjg3NDM1In0.hU5wB_6dwzTf4eo-LBUE9TK6B5cuuMMlJfAI1QTJwCJwz1G67kAGP_E_hfkn7Tl0Hz6qG-Yrdd_esYIg_PkLCe1uL1Ejwptk-1QFzHhE0Dz0Fz-hQGW1MIr2FeKorQZvCSOQpBfnCpr1qEnMw1YYNFusGJc4R8Yh59cRjWCvFCID1tzIfA7ZnkSBBLJKeHvy7SuQUXN37rz6TQQyqNsXV9jVaOt0QTg6KE-rcGGxLK49IoBVzuRohg1NGQD_S01BV7UyFJq_mNCjlthQUxV3rH0c0BEgIPODYgJyIX3tLlaccGNbrLxH_TK-bKKL53YzdXfrze6OCsEvZlKITQlb-NjC0RJD3jlwLpeze3ubNXKETUz3GiR2CeyndIYwANzV5tAdUucmc8mMspYwSGDXwsqbDHpE9VLz9p_XdHnLIQ3IT9hroyAX9Fuhce6b_J3iZtmMvSaEwLJk2ubEZzHRm2KFndQQ6AiacxbX6BncfgaNXqeYM59gk91Q1kn7SA2AEo8ta0fubmA5TZ_rqBmRjj90-xom1fJFAir8vsw3Vp0AZksf8CogGUkb7tchhnK-b1gjpwLG5EUtZvwvy9FA7t16HNScveaSbLWMTT-6cItQnEe1wXAkw9zf4HkicjOCYB6iqdWXNS22qnUweFyNS7iVwOknCcIRBclUWY6kNro';\n  }\n\n  /**\n   * It fetches the list of branches.\n   * @param {GetBranchesRequest} dto\n   * @returns {Promise<GetBranchesResponse>}\n   */\n  async getBranches(dto) {\n    const response = await fetch(`/api/v5/branches${dto.getQueryString()}`, {\n      headers: {\n        'Authorization': `Bearer ${this.apiKey}`,\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        'Origin': 'window.location.origin'\n      }\n    });\n    const json = await response.json();\n    return new GetBranchesResponse(json, dto.doesAllowReservation, dto.targetPage);\n  }\n\n  /**\n   * It updates the branch reservation status to allow.\n   * @param {AllowBranchReservationRequest} dto\n   * @returns {Promise<void>}\n   */\n  async allowBranchReservation(dto) {\n    await fetch(`/api/v5/branches/${dto.branchId}`, {\n      method: 'PUT',\n      headers: {\n        'Authorization': `Bearer ${this.apiKey}`,\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        'Origin': 'window.location.origin'\n      },\n      body: JSON.stringify({\n        accepts_reservations: true\n      })\n    });\n  }\n\n  /**\n   * It updates the branch reservation status to disallow.\n   * @param {DisAllowBranchReservationRequest} dto\n   * @returns {Promise<void>}\n   */\n  async disAllowBranchReservation(dto) {\n    await fetch(`/api/v5/branches/${dto.branchId}`, {\n      method: 'PUT',\n      headers: {\n        'Authorization': `Bearer ${this.apiKey}`,\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        'Origin': 'window.location.origin'\n      },\n      body: JSON.stringify({\n        accepts_reservations: false\n      })\n    });\n  }\n  async editBranchSettings(dto) {\n    const response = await fetch(`/api/v5/branches/${dto.branchId}`, {\n      method: 'PUT',\n      headers: {\n        'Authorization': `Bearer ${this.apiKey}`,\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        'Origin': 'window.location.origin'\n      }\n    });\n    console.log(\"response\", response);\n  }\n}","map":{"version":3,"names":["GetBranchesResponse","BranchReservationsRepo","constructor","_defineProperty","apiKey","getBranches","dto","response","fetch","getQueryString","headers","json","doesAllowReservation","targetPage","allowBranchReservation","branchId","method","body","JSON","stringify","accepts_reservations","disAllowBranchReservation","editBranchSettings","console","log"],"sources":["/Users/mohammedalghamdi/Desktop/personal/career/Foodics/tech assess/foodics-test/src/infrastructure/foodicsAPI/BranchReservationsRepo.js"],"sourcesContent":["import GetBranchesResponse from '@/infrastructure/foodicsAPI/dto/responses/GetBranchesReponse';\n\n/**\n * @classdesc Represents a repository for branch reservations\n */\nexport default class BranchReservationsRepo {\n\n    /**\n     * @type {string}\n     */\n    apiKey;\n\n    constructor() {\n        this.apiKey = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiI4Zjc4NjY2NC0wMDg4LTRhMDMtYmFkMi0zOTQ5OGRjNTViYjMiLCJqdGkiOiJiMjgzOGY4NmMyMjQ3NGMzMmJlMTJjY2JiZGZkYzU5YjEzODUyNzkxNGQyMWVhNWU4OTVjYjkxODQ0ZWZiM2YwNzQ0NjJlYzU3NGIwZDUxNyIsImlhdCI6MTczNzk3NDIwMC4zMzU0MjYsIm5iZiI6MTczNzk3NDIwMC4zMzU0MjYsImV4cCI6MTg5NTc0MDYwMC4yODM5ODYsInN1YiI6IjllMTE1ZDRkLTQ4YzMtNGM0YS1iYTAzLWMxMTFkNWYwZjAyYSIsInNjb3BlcyI6W10sImJ1c2luZXNzIjoiOTdhNTcxNDYtZTBhZC00ZGQ5LWE1NGUtNDk3YTIyY2I2Yzc1IiwicmVmZXJlbmNlIjoiMjg3NDM1In0.hU5wB_6dwzTf4eo-LBUE9TK6B5cuuMMlJfAI1QTJwCJwz1G67kAGP_E_hfkn7Tl0Hz6qG-Yrdd_esYIg_PkLCe1uL1Ejwptk-1QFzHhE0Dz0Fz-hQGW1MIr2FeKorQZvCSOQpBfnCpr1qEnMw1YYNFusGJc4R8Yh59cRjWCvFCID1tzIfA7ZnkSBBLJKeHvy7SuQUXN37rz6TQQyqNsXV9jVaOt0QTg6KE-rcGGxLK49IoBVzuRohg1NGQD_S01BV7UyFJq_mNCjlthQUxV3rH0c0BEgIPODYgJyIX3tLlaccGNbrLxH_TK-bKKL53YzdXfrze6OCsEvZlKITQlb-NjC0RJD3jlwLpeze3ubNXKETUz3GiR2CeyndIYwANzV5tAdUucmc8mMspYwSGDXwsqbDHpE9VLz9p_XdHnLIQ3IT9hroyAX9Fuhce6b_J3iZtmMvSaEwLJk2ubEZzHRm2KFndQQ6AiacxbX6BncfgaNXqeYM59gk91Q1kn7SA2AEo8ta0fubmA5TZ_rqBmRjj90-xom1fJFAir8vsw3Vp0AZksf8CogGUkb7tchhnK-b1gjpwLG5EUtZvwvy9FA7t16HNScveaSbLWMTT-6cItQnEe1wXAkw9zf4HkicjOCYB6iqdWXNS22qnUweFyNS7iVwOknCcIRBclUWY6kNro';\n    }\n\n    /**\n     * It fetches the list of branches.\n     * @param {GetBranchesRequest} dto\n     * @returns {Promise<GetBranchesResponse>}\n     */\n    async getBranches(dto){\n        const response = await fetch(`/api/v5/branches${dto.getQueryString()}`, {\n            headers: {\n                'Authorization': `Bearer ${this.apiKey}`,\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Origin': 'window.location.origin'\n            }\n        });\n        const json = await response.json();\n        return new GetBranchesResponse(json, dto.doesAllowReservation, dto.targetPage);\n    }\n\n    /**\n     * It updates the branch reservation status to allow.\n     * @param {AllowBranchReservationRequest} dto\n     * @returns {Promise<void>}\n     */\n    async allowBranchReservation(dto) {\n        await fetch(`/api/v5/branches/${dto.branchId}`, {\n            method: 'PUT',\n            headers: {\n                'Authorization': `Bearer ${this.apiKey}`,\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Origin': 'window.location.origin'\n            },\n            body: JSON.stringify({\n                accepts_reservations: true\n            })\n        });\n\n    }\n\n    /**\n     * It updates the branch reservation status to disallow.\n     * @param {DisAllowBranchReservationRequest} dto\n     * @returns {Promise<void>}\n     */\n    async disAllowBranchReservation(dto){\n        await fetch(`/api/v5/branches/${dto.branchId}`, {\n            method: 'PUT',\n            headers: {\n                'Authorization': `Bearer ${this.apiKey}`,\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Origin': 'window.location.origin'\n            },\n            body: JSON.stringify({\n                accepts_reservations: false\n            })\n        });\n\n    }\n\n    async editBranchSettings(dto){\n        const response = await fetch(`/api/v5/branches/${dto.branchId}`, {\n            method: 'PUT',\n            headers: {\n                'Authorization': `Bearer ${this.apiKey}`,\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Origin': 'window.location.origin'\n            },\n        });\n\n        console.log(\"response\", response);\n    }\n}"],"mappings":";AAAA,OAAOA,mBAAmB,MAAM,8DAA8D;;AAE9F;AACA;AACA;AACA,eAAe,MAAMC,sBAAsB,CAAC;EAOxCC,WAAWA,CAAA,EAAG;IALd;AACJ;AACA;IAFIC,eAAA;IAMI,IAAI,CAACC,MAAM,GAAG,kpCAAkpC;EACpqC;;EAEA;AACJ;AACA;AACA;AACA;EACI,MAAMC,WAAWA,CAACC,GAAG,EAAC;IAClB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,mBAAmBF,GAAG,CAACG,cAAc,CAAC,CAAC,EAAE,EAAE;MACpEC,OAAO,EAAE;QACL,eAAe,EAAE,UAAU,IAAI,CAACN,MAAM,EAAE;QACxC,cAAc,EAAE,kBAAkB;QAClC,QAAQ,EAAE,kBAAkB;QAC5B,QAAQ,EAAE;MACd;IACJ,CAAC,CAAC;IACF,MAAMO,IAAI,GAAG,MAAMJ,QAAQ,CAACI,IAAI,CAAC,CAAC;IAClC,OAAO,IAAIX,mBAAmB,CAACW,IAAI,EAAEL,GAAG,CAACM,oBAAoB,EAAEN,GAAG,CAACO,UAAU,CAAC;EAClF;;EAEA;AACJ;AACA;AACA;AACA;EACI,MAAMC,sBAAsBA,CAACR,GAAG,EAAE;IAC9B,MAAME,KAAK,CAAC,oBAAoBF,GAAG,CAACS,QAAQ,EAAE,EAAE;MAC5CC,MAAM,EAAE,KAAK;MACbN,OAAO,EAAE;QACL,eAAe,EAAE,UAAU,IAAI,CAACN,MAAM,EAAE;QACxC,cAAc,EAAE,kBAAkB;QAClC,QAAQ,EAAE,kBAAkB;QAC5B,QAAQ,EAAE;MACd,CAAC;MACDa,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACjBC,oBAAoB,EAAE;MAC1B,CAAC;IACL,CAAC,CAAC;EAEN;;EAEA;AACJ;AACA;AACA;AACA;EACI,MAAMC,yBAAyBA,CAACf,GAAG,EAAC;IAChC,MAAME,KAAK,CAAC,oBAAoBF,GAAG,CAACS,QAAQ,EAAE,EAAE;MAC5CC,MAAM,EAAE,KAAK;MACbN,OAAO,EAAE;QACL,eAAe,EAAE,UAAU,IAAI,CAACN,MAAM,EAAE;QACxC,cAAc,EAAE,kBAAkB;QAClC,QAAQ,EAAE,kBAAkB;QAC5B,QAAQ,EAAE;MACd,CAAC;MACDa,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACjBC,oBAAoB,EAAE;MAC1B,CAAC;IACL,CAAC,CAAC;EAEN;EAEA,MAAME,kBAAkBA,CAAChB,GAAG,EAAC;IACzB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,oBAAoBF,GAAG,CAACS,QAAQ,EAAE,EAAE;MAC7DC,MAAM,EAAE,KAAK;MACbN,OAAO,EAAE;QACL,eAAe,EAAE,UAAU,IAAI,CAACN,MAAM,EAAE;QACxC,cAAc,EAAE,kBAAkB;QAClC,QAAQ,EAAE,kBAAkB;QAC5B,QAAQ,EAAE;MACd;IACJ,CAAC,CAAC;IAEFmB,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEjB,QAAQ,CAAC;EACrC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}